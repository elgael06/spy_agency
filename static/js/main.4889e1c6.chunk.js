(this["webpackJsonpfront-app"]=this["webpackJsonpfront-app"]||[]).push([[0],{116:function(e,n,t){},220:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(25),o=t.n(r),s=t(58),i=t(18),l=t(29),u=t(224),d=t(225),j=t(121),b=t(30),p=t.n(b),h=t(41),m=t(44),f=t(46),x=t.n(f),O=function(){var e=Object(h.a)(p.a.mark((function e(n){var t,a,c,r,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,a=void 0===t?"":t,c=n.password,r=void 0===c?"":c,e.next=3,x.a.post("/api/user/account/login",{email:a,password:r}).catch();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return o=e.t0,s=o.status,i=o.data,console.log(s,i),x.a.defaults.headers.post.Token=i.token,x.a.defaults.headers.get.Token=i.token,x.a.defaults.headers.put.Token=i.token,x.a.defaults.headers.delete.Token=i.token,e.abrupt("return",200==s?i:null);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=Object(m.b)("login/sinIn",function(){var e=Object(h.a)(p.a.mark((function e(n){var t,a,c,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,a=void 0===t?"":t,c=n.password,r=void 0===c?"":c,e.next=3,O({email:a,password:r});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),v=Object(m.c)({name:"login",initialState:{email:"",password:"",sesion:null,loading:!1},reducers:{handleEmail:function(e,n){e.email=n.payload},handlePassword:function(e,n){e.password=n.payload}},extraReducers:function(e){e.addCase(g.pending,(function(e){e.loading=!0})).addCase(g.fulfilled,(function(e,n){e.loading=!1,e.sesion=n.payload})).addCase(g.rejected,(function(e){e.loading=!1,e.sesion=null}))}}),y=v.actions,w=y.handleEmail,k=y.handlePassword,C=function(e){return e.login},S=function(e){return e.login.sesion},E=v.reducer,P=t(222),F=t(223),I=t(5),T=P.a.Header,A=P.a.Content,N=P.a.Footer,R=function(e){var n=e.title,t=void 0===n?"":n,a=e.children,c=void 0===a?null:a,r=e.handleSubmit,o=void 0===r?function(){}:r;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(T,{children:Object(I.jsx)("h1",{style:{color:"#FFF"},children:"Login Page Company SPY"})}),Object(I.jsx)("hr",{}),Object(I.jsx)(A,{style:{display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center"},children:Object(I.jsxs)(u.a,{style:{display:"flex",marginTop:-80,minHeight:500,width:450,justifyContent:"space-between",flexDirection:"column",background:"#fff",padding:"20px 35px"},name:"basic",initialValues:{remember:!1},labelCol:{span:5},wrapperCol:{span:21},onSubmitCapture:o,children:[Object(I.jsx)("div",{children:Object(I.jsx)(F.a,{children:Object(I.jsx)("h2",{children:t})})}),c,Object(I.jsx)("hr",{}),Object(I.jsx)(N,{children:Object(I.jsx)("small",{children:"Company SPY"})})]})})]})},B=function(){var e=Object(i.g)(),n=Object(l.c)(C),t=n.email,c=n.password,r=n.loading,o=Object(l.b)();Object(a.useEffect)((function(){console.log("login",{email:t,password:c})}),[]);return Object(I.jsxs)(R,{handleSubmit:function(e){e.preventDefault(),console.log("send..."),t&&c&&o(g({email:t,password:c}))},title:"Sing In",children:[Object(I.jsx)(u.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(I.jsx)(d.a,{type:"email",placeholder:"email...",value:t,onChange:function(e){return o(w(e.target.value))}})}),Object(I.jsx)(u.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(I.jsx)(d.a.Password,{type:"password",placeholder:"password...",value:c,onChange:function(e){return o(k(e.target.value))}})}),Object(I.jsx)(j.a,{loading:r,shape:"round",block:!0,type:"primary",htmlType:"submit",children:"ENTER"}),Object(I.jsx)("br",{}),Object(I.jsx)(j.a,{block:!0,type:"link",onClick:function(){return e.push("/account")},children:"create Acount"})]})},H=function(){var e=Object(i.g)(),n=Object(l.c)(C),t=n.email,c=n.password,r=Object(l.b)();Object(a.useEffect)((function(){console.log("login",{email:t,password:c})}),[]);return Object(I.jsxs)(R,{handleSubmit:function(e){e.preventDefault(),console.log("send...")},title:"Create Account",children:[Object(I.jsx)(u.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(I.jsx)(d.a,{type:"email",placeholder:"email...",value:t,onChange:function(e){return r(w(e.target.value))}})}),Object(I.jsx)(j.a,{shape:"round",block:!0,type:"primary",htmlType:"submit",children:"CREARTE"}),Object(I.jsx)("br",{}),Object(I.jsx)(j.a,{block:!0,type:"link",onClick:function(){return e.push("/")},children:"Return to login"})]})},q=function(){return Object(I.jsxs)(i.d,{children:[Object(I.jsx)(i.b,{path:"/login",exact:!0,component:B}),Object(I.jsx)(i.b,{path:"/account",exact:!0,component:H}),Object(I.jsx)(i.b,{path:"/*",component:function(){return Object(I.jsx)(i.a,{to:"/login"})}})]})},D=function(){var e=Object(l.c)(S),n=function(){var n=Object(h.a)(p.a.mark((function n(){var t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.get("/api/user/"+e.id_account);case 2:t=n.sent,console.log("resp->",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return console.log("sesion->",e),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h3",{children:"Home page"}),Object(I.jsx)(j.a,{onClick:n,children:"Consultar"})]})},Y=function(){return Object(I.jsxs)(i.d,{children:[Object(I.jsx)(i.b,{path:"/home",exact:!0,component:D}),Object(I.jsx)(i.b,{path:"/*",component:function(){return Object(I.jsx)(i.a,{to:"/home"})}})]})},J=t(122),W=(t(116),t(226)),K=t(227),L=t(228),V=t(229),$=function(){return Object(I.jsxs)(W.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(I.jsx)(W.a.Item,{icon:Object(I.jsx)(K.a,{}),children:"nav 1"},"1"),Object(I.jsx)(W.a.Item,{icon:Object(I.jsx)(L.a,{}),children:"nav 2"},"2"),Object(I.jsx)(W.a.Item,{icon:Object(I.jsx)(V.a,{}),children:"nav 3"},"3")]})},_=t(230),z=t(231),G=P.a.Header,M=function(e){var n=e.collapsed,t=void 0!==n&&n,a=e.toggle,r=void 0===a?function(){}:a;return Object(I.jsx)(G,{className:"site-layout-background",style:{padding:"3px 12px"},children:c.a.createElement(t?_.a:z.a,{className:"trigger",onClick:r})})},Q=P.a.Sider,U=P.a.Content,X=P.a.Footer,Z=function(e){var n=e.children,t=void 0===n?null:n,c=Object(a.useState)(!1),r=Object(J.a)(c,2),o=r[0],s=r[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Q,{trigger:null,collapsible:!0,collapsed:o,children:[Object(I.jsx)("div",{className:"logo",children:Object(I.jsx)("h2",{style:{color:"#FFF",margin:15},children:o?"CS":"Company Spy"})}),Object(I.jsx)($,{})]}),Object(I.jsxs)(P.a,{className:"site-layout",children:[Object(I.jsx)(M,{collapsed:o,toggle:function(){s(!o)}}),Object(I.jsx)(U,{className:"site-layout-background",style:{margin:"24px 16px",padding:24},children:t}),Object(I.jsx)(X,{style:{textAlign:"center"},children:" Company SPY \xa92021 "})]})]})},ee=function(){return Object(I.jsx)(s.a,{children:Object(I.jsx)(i.d,{children:Object(I.jsx)(Z,{children:Object(I.jsx)(i.b,{path:"/",component:Y})})})})},ne=function(){return Object(I.jsx)(s.a,{children:Object(I.jsx)(i.d,{children:Object(I.jsx)(i.b,{path:"/",component:q})})})},te=function(){return null!==Object(l.c)(S)?Object(I.jsx)(ee,{}):Object(I.jsx)(ne,{})};var ae=function(){return Object(I.jsx)(P.a,{style:{position:"absolute",left:0,right:0,bottom:0,top:0},children:Object(I.jsx)(te,{})})};function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n){return setTimeout((function(){return n({data:e})}),500)}))}var re=Object(m.b)("counter/fetchCount",function(){var e=Object(h.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),oe=Object(m.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,n){e.value+=n.payload}},extraReducers:function(e){e.addCase(re.pending,(function(e){e.status="loading"})).addCase(re.fulfilled,(function(e,n){e.status="idle",e.value+=n.payload}))}}),se=oe.actions,ie=(se.increment,se.decrement,se.incrementByAmount,oe.reducer),le=Object(m.a)({reducer:{counter:ie,login:E}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(219);o.a.render(Object(I.jsx)(l.a,{store:le,children:Object(I.jsx)(ae,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[220,1,2]]]);
//# sourceMappingURL=main.4889e1c6.chunk.js.map